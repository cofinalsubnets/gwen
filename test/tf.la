(test logic
 (all id (L 1 1 1 1 1))
 (~ (all id (L 1 1 0 1 1)))
 (any id (L 1 1 0 1 1))
 (~ (any id (L 0 0 0 0 0)))
 (~ (&& 1 2 0 4))
 (&& 1 2 3 4 (&&))
 (|| 0 0 1 0)
 (~ (|| (|| 0) (||)))
 (:
    none (co any ~)
    (bools n) (? (= 0 n) '((0) (-1))
     (>>= (bools (- n 1)) (\ q
      (flat-map q (\ b (map (\ c (append b c)) q))))))
    (de-morgan a .) (= (all id a) (none ~ a))
  (all (cu ap de-morgan) (bools 3)))
 (: box (tbl)
    (set x) (tset box 0 x)
    (get) (tget box 0)
    (mut f) (set (f (get)))
    (inc x) (X 0 x)
    (fn i) (, (mut inc) i)
  ; test short-circuiting
  (&&
   (, (&& (fn 1) (fn 2) (fn 0) (fn 4))
      (= 3 (len (get))))
   (, (|| (fn 1) (fn 2) (fn 3))
      (= 4 (len (get)))))))
